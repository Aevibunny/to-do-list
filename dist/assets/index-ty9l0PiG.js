(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function h(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}const M=864e5,x=6e4,T=36e5;function y(t){const e=h(t);return e.setHours(0,0,0,0),e}function I(t){const e=h(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function j(t,e){const n=y(t),s=y(e),a=+n-I(n),o=+s-I(s);return Math.round((a-o)/M)}function S(t,e){const n=h(t),s=h(e),a=N(n,s),o=Math.abs(j(n,s));n.setDate(n.getDate()-a*o);const r=+(N(n,s)===-a),i=a*(o-r);return i===0?0:i}function N(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function U(t,e){const s=P(t);let a;if(s.date){const c=z(s.date,2);a=A(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const o=a.getTime();let r=0,i;if(s.time&&(r=H(s.time),isNaN(r)))return new Date(NaN);if(s.timezone){if(i=Z(s.timezone),isNaN(i))return new Date(NaN)}else{const c=new Date(o+r),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(o+r+i)}const D={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},B=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Y=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function P(t){const e={},n=t.split(D.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],D.timeZoneDelimiter.test(e.date)&&(e.date=t.split(D.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const a=D.timezone.exec(s);a?(e.time=s.replace(a[1],""),e.timezone=a[1]):e.time=s}return e}function z(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,o=s[2]?parseInt(s[2]):null;return{year:o===null?a:o*100,restDateString:t.slice((s[1]||s[2]).length)}}function A(t,e){if(e===null)return new Date(NaN);const n=t.match(B);if(!n)return new Date(NaN);const s=!!n[4],a=m(n[1]),o=m(n[2])-1,r=m(n[3]),i=m(n[4]),c=m(n[5])-1;if(s)return q(e,i,c)?_(e,i,c):new Date(NaN);{const d=new Date(0);return!J(e,o,r)||!R(e,a)?new Date(NaN):(d.setUTCFullYear(e,o,Math.max(a,r)),d)}}function m(t){return t?parseInt(t):1}function H(t){const e=t.match(Y);if(!e)return NaN;const n=k(e[1]),s=k(e[2]),a=k(e[3]);return K(n,s,a)?n*T+s*x+a*1e3:NaN}function k(t){return t&&parseFloat(t.replace(",","."))||0}function Z(t){if(t==="Z")return 0;const e=t.match($);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return G(s,a)?n*(s*T+a*x):NaN}function _(t,e,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const a=s.getUTCDay()||7,o=(e-1)*7+n+1-a;return s.setUTCDate(s.getUTCDate()+o),s}const W=[31,null,31,30,31,30,31,31,30,31,30,31];function F(t){return t%400===0||t%4===0&&t%100!==0}function J(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(W[e]||(F(t)?29:28))}function R(t,e){return e>=1&&e<=(F(t)?366:365)}function q(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function K(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function G(t,e){return e>=0&&e<=59}const Q=t=>S(t,y(new Date)),V=t=>{t=t.replace("#","");let e=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),s=parseInt(t.substring(4,6),16);return e*.299+n*.587+s*.114>186?"#000000":"#ffffff"},v=document.getElementById("project-container"),X=document.getElementById("create-project-button"),ee=document.getElementById("project-submit"),b=document.getElementById("popup-container"),te=document.getElementById("cancel"),C=document.getElementById("project-title"),O=document.getElementById("project-due-date"),L=document.getElementById("project-color"),l=[];X.addEventListener("click",()=>{b.classList.add("popup-open")});te.addEventListener("click",()=>{b.classList.remove("popup-open"),w()});let w=()=>{C.value="",O.value=""};class ne{constructor(e,n,s,a,o){this.id=o,this.title=e,this.dueDate=n,this.color=s,this.tasks=[],this.textColor=a,this.taskFormOpen=!1}}ee.addEventListener("click",()=>{let t=V(L.value),e=new ne(C.value,y(U(O.value)),L.value,t);l.push(e);let n=C.value.split(" ").join("");e.id=l.indexOf(e)+n,w(),b.classList.remove("popup-open"),u()});const u=()=>{v.innerHTML="",l.forEach(t=>{t.taskFormOpen=!1;const e=document.createElement("div");e.classList.add("project"),e.id=t.id;const n=document.createElement("h6");n.classList.add("project-title"),n.style.backgroundColor=t.color,n.style.color=t.textColor,n.textContent=t.title;const s=document.createElement("button");s.classList.add("add-button"),s.style.color=t.textColor,s.textContent="Add";const a=document.createElement("button");a.classList.add("delete-button"),a.style.color=t.textColor,a.textContent="x",n.appendChild(s),n.appendChild(a),s.addEventListener("click",se),a.addEventListener("click",()=>ae(t.id));const o=document.createElement("h7");o.classList.add("due-date");let r=Q(t.dueDate);!t.dueDate||t.dueDate=="Invalid Date"?o.textContent="":r===0?(o.textContent="Due Today!",o.classList.add("yellow-highlight")):r<0?(o.textContent=`Due ${r*-1} day(s) ago!`,o.classList.add("yellow-highlight")):(o.textContent=`Due in ${r} day(s)`,o.classList.add("due-date-future"));const i=document.createElement("ul");i.classList.add("ul-container"),i.id=`ul-container-${t.id}`,e.appendChild(n),e.appendChild(o),e.appendChild(i),v.appendChild(e),t.tasks.forEach(c=>{const d=document.createElement("li"),g=document.createElement("input");g.type="checkbox",g.classList.add("check-box"),g.id=`${t.id}${c}`;const E=document.createElement("label");E.htmlFor=`${t.id}${c}`,E.textContent=c;const p=document.createElement("input");p.type="button",p.id=c,p.classList.add("task-delete-btn"),p.value="x",d.appendChild(g),d.appendChild(E),d.appendChild(p),i.appendChild(d)})}),f(),console.log(l)},se=t=>{let e=t.target.parentElement.parentElement.id,n=l.findIndex(s=>s.id===e);if(!l[n].taskFormOpen){const s=document.createElement("div");s.id="task-form-container",s.classList.add("project-title"),document.createElement("form").classList.add("task-form");const o=document.createElement("label");o.htmlFor="task-input";const r=document.createElement("input");r.type="text",r.id="task-input",r.classList.add("task-input"),r.maxLength="24",r.placeholder="Enter task";const i=document.createElement("input");i.type="submit",i.value="Add",i.classList.add("add-button","add-task-btn");const c=document.createElement("input");c.type="button",c.value="x",c.classList.add("delete-button","add-task-btn"),t.target.parentElement.insertAdjacentElement("afterend",s),s.appendChild(o),s.appendChild(r),s.appendChild(i),s.appendChild(c),c.addEventListener("click",()=>{s.remove(),l[n].taskFormOpen=!1}),i.addEventListener("click",()=>{l[n].tasks.push(r.value),s.remove(),l[n].taskFormOpen=!1,u(),f()}),r.addEventListener("keydown",d=>{d.key==="Enter"&&(l[n].tasks.push(r.value),s.remove(),l[n].taskFormOpen=!1,u(),f())}),r.focus(),l[n].taskFormOpen=!0}},ae=t=>{let e=l.findIndex(n=>n.id===t);l.splice(e,1),u(),f()},oe=t=>{let e=l.findIndex(s=>s.id===t.target.parentElement.parentElement.parentElement.id),n=l[e].tasks.findIndex(s=>s===t.target.id);l[e].tasks.splice(n,1),u(),f()};document.addEventListener("click",t=>{t.target.matches(".task-delete-btn")&&oe(t)});const f=()=>{localStorage.setItem("array",JSON.stringify(l))},re=()=>{let t=localStorage.getItem("array"),e=JSON.parse(t);l.splice(0,l.length,...e)};re();u();
